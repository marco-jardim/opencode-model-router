{
  "activePreset": "anthropic",
  "activeMode": "normal",
  "presets": {
    "anthropic": {
      "fast": {
        "model": "anthropic/claude-haiku-4-5",
        "costRatio": 1,
        "description": "Haiku 4.5 for exploration, search, and simple reads",
        "steps": 30,
        "prompt": "You are a fast exploration agent. Focus on speed and efficiency. Read files, search code, and return findings concisely. Do NOT make edits unless explicitly asked.",
        "whenToUse": [
          "Codebase exploration and search",
          "Simple file reads and listing",
          "Grep/glob operations",
          "Quick lookups and research"
        ]
      },
      "medium": {
        "model": "anthropic/claude-sonnet-4-6",
        "variant": "max",
        "costRatio": 5,
        "description": "Sonnet 4.5 max for implementation, refactoring, and tests",
        "steps": 50,
        "prompt": "You are an implementation agent. Write clean, production-quality code matching existing project patterns. Run linters/tests after changes when possible.",
        "whenToUse": [
          "Feature implementation",
          "Refactoring",
          "Writing tests",
          "Code review",
          "Bug fixes"
        ]
      },
      "heavy": {
        "model": "anthropic/claude-opus-4-6",
        "variant": "max",
        "costRatio": 20,
        "description": "Opus 4.6 max for architecture, complex debugging, and security",
        "steps": 120,
        "prompt": "You are a senior architecture consultant. Analyze deeply, consider tradeoffs, and provide thorough reasoning. Be exhaustive in your analysis.",
        "whenToUse": [
          "Architecture decisions",
          "Complex debugging (after 2+ failures)",
          "Security review",
          "Performance optimization"
        ]
      }
    },
    "openai": {
      "fast": {
        "model": "openai/gpt-5.3-codex-spark",
        "costRatio": 1,
        "description": "GPT-5.3 Codex Spark for fast exploration and simple tasks",
        "steps": 30,
        "prompt": "You are a fast exploration agent. Focus on speed and efficiency. Read files, search code, and return findings concisely. Do NOT make edits unless explicitly asked.",
        "whenToUse": [
          "Codebase exploration and search",
          "Simple file reads",
          "Quick lookups"
        ]
      },
      "medium": {
        "model": "openai/gpt-5.3-codex",
        "costRatio": 5,
        "description": "GPT-5.3 Codex default settings for implementation and standard coding",
        "steps": 50,
        "prompt": "You are an implementation agent. Write clean, production-quality code matching existing project patterns. Run linters/tests after changes when possible.",
        "whenToUse": [
          "Feature implementation",
          "Refactoring",
          "Writing tests",
          "Bug fixes"
        ]
      },
      "heavy": {
        "model": "openai/gpt-5.3-codex",
        "variant": "xhigh",
        "costRatio": 20,
        "description": "GPT-5.3 Codex xhigh for architecture and complex tasks",
        "steps": 120,
        "prompt": "You are a senior architecture consultant. Analyze deeply, consider tradeoffs, and provide thorough reasoning.",
        "whenToUse": [
          "Architecture decisions",
          "Complex debugging (after 2+ failures)",
          "Security review",
          "Performance optimization"
        ]
      }
    },
    "github-copilot": {
      "fast": {
        "model": "github-copilot/claude-haiku-4-5",
        "costRatio": 1,
        "description": "Claude Haiku 4.5 via GitHub Copilot for fast exploration and simple tasks",
        "steps": 30,
        "prompt": "You are a fast exploration agent. Focus on speed and efficiency. Read files, search code, and return findings concisely. Do NOT make edits unless explicitly asked.",
        "whenToUse": [
          "Codebase exploration and search",
          "Simple file reads and listing",
          "Grep/glob operations",
          "Quick lookups and research"
        ]
      },
      "medium": {
        "model": "github-copilot/claude-sonnet-4-6",
        "costRatio": 5,
        "description": "Claude Sonnet 4.5 via GitHub Copilot for implementation, refactoring, and tests",
        "steps": 50,
        "prompt": "You are an implementation agent. Write clean, production-quality code matching existing project patterns. Run linters/tests after changes when possible.",
        "whenToUse": [
          "Feature implementation",
          "Refactoring",
          "Writing tests",
          "Code review",
          "Bug fixes"
        ]
      },
      "heavy": {
        "model": "github-copilot/claude-opus-4-6",
        "variant": "thinking",
        "costRatio": 20,
        "description": "Claude Opus 4.6 via GitHub Copilot for architecture, complex debugging, and security",
        "steps": 120,
        "prompt": "You are a senior architecture consultant. Analyze deeply, consider tradeoffs, and provide thorough reasoning. Be exhaustive in your analysis.",
        "whenToUse": [
          "Architecture decisions",
          "Complex debugging (after 2+ failures)",
          "Security review",
          "Performance optimization"
        ]
      }
    },
    "google": {
      "fast": {
        "model": "google/gemini-2.5-flash",
        "costRatio": 1,
        "description": "Gemini 2.5 Flash for fast exploration and simple tasks",
        "steps": 30,
        "prompt": "You are a fast exploration agent. Focus on speed and efficiency. Read files, search code, and return findings concisely. Do NOT make edits unless explicitly asked.",
        "whenToUse": [
          "Codebase exploration and search",
          "Simple file reads and listing",
          "Grep/glob operations",
          "Quick lookups and research"
        ]
      },
      "medium": {
        "model": "google/gemini-2.5-pro",
        "costRatio": 5,
        "description": "Gemini 2.5 Pro for implementation, refactoring, and tests",
        "steps": 50,
        "prompt": "You are an implementation agent. Write clean, production-quality code matching existing project patterns. Run linters/tests after changes when possible.",
        "whenToUse": [
          "Feature implementation",
          "Refactoring",
          "Writing tests",
          "Code review",
          "Bug fixes"
        ]
      },
      "heavy": {
        "model": "google/gemini-3-pro-preview",
        "costRatio": 20,
        "description": "Gemini 3 Pro Preview for architecture, complex debugging, and security",
        "steps": 120,
        "prompt": "You are a senior architecture consultant. Analyze deeply, consider tradeoffs, and provide thorough reasoning. Be exhaustive in your analysis.",
        "whenToUse": [
          "Architecture decisions",
          "Complex debugging (after 2+ failures)",
          "Security review",
          "Performance optimization"
        ]
      }
    },
    "hybrid": {
      "fast": {
        "model": "openai/gpt-5.3-codex-spark",
        "costRatio": 1,
        "description": "GPT-5.3 Codex Spark for exploration, search, and simple reads",
        "steps": 30,
        "prompt": "You are a fast exploration agent. Focus on speed and efficiency. Read files, search code, and return findings concisely. Do NOT make edits unless explicitly asked.",
        "whenToUse": [
          "Codebase exploration and search",
          "Simple file reads and listing",
          "Grep/glob operations",
          "Quick lookups and research"
        ]
      },
      "medium": {
        "model": "anthropic/claude-sonnet-4-6",
        "variant": "max",
        "costRatio": 5,
        "description": "Claude Sonnet 4.6 max for implementation, refactoring, and tests",
        "steps": 50,
        "prompt": "You are an implementation agent. Write clean, production-quality code matching existing project patterns. Run linters/tests after changes when possible.",
        "whenToUse": [
          "Feature implementation",
          "Refactoring",
          "Writing tests",
          "Code review",
          "Bug fixes"
        ]
      },
      "heavy": {
        "model": "anthropic/claude-opus-4-6",
        "variant": "max",
        "costRatio": 20,
        "description": "Claude Opus 4.6 max for architecture, complex debugging, and security",
        "steps": 120,
        "prompt": "You are a senior architecture consultant. Analyze deeply, consider tradeoffs, and provide thorough reasoning. Be exhaustive in your analysis.",
        "whenToUse": [
          "Architecture decisions",
          "Complex debugging (after 2+ failures)",
          "Security review",
          "Performance optimization"
        ]
      }
    }
  },
  "taskPatterns": {
    "fast": [
      "search",
      "grep",
      "read",
      "git-info",
      "ls",
      "lookup-docs/types",
      "count",
      "exists-check",
      "rename"
    ],
    "medium": [
      "impl-feature",
      "refactor",
      "write-tests",
      "bugfix(≤2)",
      "edit-logic",
      "code-review",
      "build-fix",
      "create-file",
      "db-migrate",
      "api-endpoint",
      "config-update"
    ],
    "heavy": [
      "arch-design",
      "debug(≥3fail)",
      "sec-audit",
      "perf-opt",
      "migrate-strategy",
      "multi-system-integration",
      "tradeoff-analysis",
      "rca"
    ]
  },
  "modes": {
    "normal": {
      "defaultTier": "medium",
      "description": "Balanced quality and cost — delegates based on task complexity"
    },
    "budget": {
      "defaultTier": "fast",
      "description": "Aggressive cost savings — defaults to cheapest tier, escalates only when needed",
      "overrideRules": [
        "default→@fast unless edits/complex-reasoning needed",
        "@medium ONLY: multi-file-edit/refactor/test-suite/build-fix",
        "@heavy ONLY: user-requested OR ≥2 @medium failures",
        "trivial(grep/read/glob)→direct,no-delegate",
        "batch related searches→single @fast",
        "uncertain @fast vs @medium→@fast,escalate on fail"
      ]
    },
    "quality": {
      "defaultTier": "medium",
      "description": "Quality-first — uses stronger models more liberally for better results",
      "overrideRules": [
        "default→@medium incl exploration when deep-context matters",
        "@heavy: arch/debug/security/multi-file-coord",
        "@fast ONLY: trivial single-tool ops (1 grep/1 read)",
        "prefer thoroughness over speed"
      ]
    },
    "deep": {
      "defaultTier": "heavy",
      "description": "Deep analysis mode — prioritizes thorough architecture/debug work with long heavy runs",
      "overrideRules": [
        "default→@medium for implementation and multi-file changes",
        "@heavy for architecture/debug/security/tradeoff-analysis by default",
        "allow long heavy runs before fallback; avoid premature downshift",
        "trivial(grep/read/glob)→direct,no-delegate",
        "if task is composite: explore@fast then execute@heavy"
      ]
    }
  },
  "fallback": {
    "global": {
      "anthropic": [
        "openai",
        "google",
        "github-copilot"
      ],
      "openai": [
        "anthropic",
        "google",
        "github-copilot"
      ],
      "github-copilot": [
        "anthropic",
        "openai",
        "google"
      ],
      "google": [
        "openai",
        "anthropic",
        "github-copilot"
      ]
    }
  },
  "rules": [
    "[tier:X]→delegate X",
    "plan:fast/cheap→@fast | plan:medium→@medium | plan:heavy→@heavy",
    "default:impl→@medium | readonly→@fast",
    "orchestrate=self,delegate=exec",
    "trivial(≤2tools)→direct,skip-delegate",
    "self∈opus→never→@heavy,do-it-yourself",
    "consult route-guide↑",
    "min(cost,adequate-tier)"
  ],
  "defaultTier": "medium"
}
